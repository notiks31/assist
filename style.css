/* [Global Settings & Fonts] */
@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");

:root {
    --primary: #3182F6;       /* 트렌디한 토스/삼성 블루 */
    --primary-light: #E8F3FF; /* 연한 블루 배경 */
    --text-main: #191F28;     /* 진한 검정 (가독성) */
    --text-sub: #8B95A1;      /* 부드러운 회색 */
    --bg-base: #F2F4F6;       /* 앱 배경색 */
    --white: #FFFFFF;
    --shadow: 0 4px 24px rgba(0, 0, 0, 0.08); /* 부드러운 그림자 */
    --radius-l: 24px;         /* 둥근 모서리 (Large) */
    --radius-m: 16px;         /* 둥근 모서리 (Medium) */
    --radius-s: 12px;         /* 둥근 모서리 (Small) */
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0; padding: 0;
    font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
    background-color: var(--bg-base);
    height: 100dvh; /* 모바일 풀스크린 */
    overflow: hidden;
    display: flex; justify-content: center;
}

.app-frame {
    width: 100%; max-width: 480px; height: 100%;
    position: relative; background: var(--white);
    display: flex; flex-direction: column;
    box-shadow: 0 0 40px rgba(0,0,0,0.1);
}

/* [지도 레이어] */
#map {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 0;
}

/* [상단 플로팅 버튼 그룹] */
.top-controls {
    position: absolute; top: 20px; left: 20px; right: 20px;
    z-index: 10; display: flex; gap: 10px;
    pointer-events: none; /* 빈 공간 터치 통과 */
}

/* 알약 모양 버튼 (편의점, 교통 등) */
.pill-btn {
    pointer-events: auto;
    background: var(--white);
    padding: 10px 16px; border-radius: 100px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    border: 1px solid rgba(0,0,0,0.02);
    font-size: 14px; font-weight: 600; color: var(--text-main);
    display: flex; align-items: center; gap: 6px;
    cursor: pointer; transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
}
.pill-btn:active { transform: scale(0.96); background: #f9f9f9; }
.pill-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
.pill-btn.active svg { fill: white; }

/* 우측 상단 그룹 */
.top-right { margin-left: auto; display: flex; gap: 10px; }

/* [내 위치 버튼] */
.my-loc-btn {
    position: absolute; bottom: calc(35% + 20px); right: 20px; z-index: 10;
    width: 48px; height: 48px; border-radius: 50%;
    background: var(--white);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    border: none; cursor: pointer;
    display: flex; justify-content: center; align-items: center;
    transition: transform 0.2s;
}
.my-loc-btn:active { transform: scale(0.9); }
.my-loc-btn svg { stroke: var(--text-main); }

/* [Bottom Sheet - 잡다 스타일 카드] */
.bottom-sheet {
    position: absolute; bottom: 0; left: 0; right: 0;
    background: var(--white);
    border-top-left-radius: var(--radius-l);
    border-top-right-radius: var(--radius-l);
    box-shadow: 0 -10px 40px rgba(0,0,0,0.08);
    z-index: 100;
    transition: transform 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    transform: translateY(0);
    max-height: 85%; display: flex; flex-direction: column;
}

/* 시트 상태: 접힘 vs 펼침 */
.bottom-sheet.collapsed { transform: translateY(calc(100% - 150px)); }
.bottom-sheet.expanded { transform: translateY(0); }

/* 드래그 핸들바 영역 */
.sheet-header {
    padding: 16px 0 8px 0; display: flex; justify-content: center; cursor: pointer;
}
.handle-bar {
    width: 36px; height: 4px; background: #E0E0E0; border-radius: 10px;
}

.sheet-content {
    padding: 0 24px 40px 24px; overflow-y: auto;
}

/* 타이틀 텍스트 */
.sheet-title {
    font-size: 22px; font-weight: 700; color: var(--text-main);
    margin-bottom: 20px; letter-spacing: -0.5px;
}

/* [입력 폼 - 깔끔한 박스 스타일] */
.input-container {
    background: var(--bg-base); border-radius: var(--radius-m);
    padding: 4px 16px; margin-bottom: 20px;
}

.input-row {
    display: flex; align-items: center; height: 52px;
    border-bottom: 1px solid rgba(0,0,0,0.05);
}
.input-row:last-child { border-bottom: none; }

.dot { width: 8px; height: 8px; border-radius: 50%; margin-right: 12px; flex-shrink: 0; }
.dot.start { background: var(--text-sub); }
.dot.end { background: var(--primary); box-shadow: 0 0 0 2px rgba(49, 130, 246, 0.2); }

.input-field {
    border: none; background: transparent; outline: none;
    font-size: 16px; font-weight: 500; color: var(--text-main);
    width: 100%; height: 100%;
}
.input-field::placeholder { color: #ADB5BD; }

/* [빠른 검색 칩] */
.chip-group { display: flex; gap: 8px; margin-bottom: 24px; overflow-x: auto; padding-bottom: 4px; }
.chip {
    background: var(--white); border: 1px solid #E5E8EB;
    padding: 8px 14px; border-radius: 100px;
    font-size: 13px; font-weight: 600; color: var(--text-main);
    white-space: nowrap; cursor: pointer;
    transition: all 0.2s;
}
.chip:active { background: var(--bg-base); transform: scale(0.97); }
.chip.blue { color: var(--primary); background: var(--primary-light); border-color: transparent; }

/* [메인 버튼 - 파란색 강조] */
.btn-primary {
    width: 100%; height: 56px;
    background: var(--primary); color: white;
    border: none; border-radius: var(--radius-m);
    font-size: 17px; font-weight: 700;
    cursor: pointer; transition: transform 0.1s;
    box-shadow: 0 4px 12px rgba(49, 130, 246, 0.3);
}
.btn-primary:active { transform: scale(0.98); }

/* [결과 카드] */
.result-card {
    background: var(--white); border: 1px solid #F2F4F6;
    border-radius: var(--radius-m); padding: 20px;
    display: none; animation: fadeIn 0.3s;
}
.result-card.active { display: block; }

.route-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 16px; }
.time-display { font-size: 26px; font-weight: 800; color: var(--text-main); letter-spacing: -0.5px; }
.time-sub { font-size: 14px; color: var(--text-sub); font-weight: 500; margin-left: 6px; }

/* 타임라인 디자인 */
.timeline { position: relative; padding-left: 20px; margin-top: 12px; }
.timeline::before {
    content: ''; position: absolute; left: 6px; top: 8px; bottom: 8px;
    width: 2px; background: #E5E8EB;
}
.t-item { position: relative; margin-bottom: 20px; }
.t-dot {
    position: absolute; left: -19px; top: 5px;
    width: 10px; height: 10px; border-radius: 50%;
    background: var(--white); border: 2px solid #ccc; z-index: 2;
}
.t-dot.start { border-color: var(--text-main); background: var(--text-main); }
.t-dot.end { border-color: var(--primary); background: var(--primary); }
.t-title { font-size: 15px; font-weight: 700; color: var(--text-main); }
.t-desc { font-size: 13px; color: var(--text-sub); margin-top: 2px; }

/* 유틸리티 */
.hidden { display: none !important; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
